<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Precious Time (API Version)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>How Much Time Do You Truly Have?</h1>
        <button id="help-button" class="help-button">Need Help?</button>
    </header>

    <main>
        <section id="step-intro" class="step active">
            <h2>Discover Your Precious Time</h2>
            <p>Have you ever stopped to think about the true value of your time? This calculator is designed to give you a unique perspective on the time you might have remaining and how something like unnecessary worry can significantly impact it.</p>
            <p>Based on average life expectancy data, we'll help you visualize your time in years, days, and hours, and show you the potential cost of spending that time worrying.</p>
            <p>It's not about predicting the future, but about bringing attention to the present and inspiring you to use your precious moments wisely.</p>
            <button onclick="nextStep('step-age')">Start Calculation</button>
        </section>

        <section id="step-age" class="step">
            <h2>Step 1: How old are you?</h2>
            <label for="age">Your current age:</label>
            <input type="number" id="age" name="age" min="1" max="120" required>
            <button onclick="nextStep('step-sex')">Next</button>
        </section>

        <section id="step-sex" class="step">
            <h2>Step 2: What is your biological sex?</h2>
            <p>(Needed for average life expectancy data)</p>
            <div class="radio-group">
                <label>
                    <input type="radio" id="sex-male" name="sex" value="SEX_MLE" required> Male
                </label>
                <label>
                    <input type="radio" id="sex-female" name="sex" value="SEX_FMLE" required> Female
                </label>
            </div>
            <button onclick="nextStep('step-country')">Next</button>
        </section>

        <section id="step-country" class="step">
            <h2>Step 3: Where do you live?</h2>
            <label for="country">Select your country:</label>
            <select id="country" name="country" required>
                <option value="" disabled selected>-- Select Country --</option>
            </select>
            <button onclick="nextStep('step-worry')">Next</button>
        </section>

        <section id="step-worry" class="step">
            <h2>Step 4: Daily Worry Time</h2>
            <label for="worry-hours">On average, how many hours per day do you spend worrying about things you can't control?</label>
            <input type="range" id="worry-hours" name="worry-hours" min="0" max="12" step="0.5" value="1">
            <span id="worry-output">1 hour</span>
            <button onclick="calculateTime()">Calculate My Time</button> </section>

        <section id="step-results" class="step">
            <h2>Your Time Breakdown</h2>
            <div id="results-loading" style="display: none;">Fetching data...</div>
            <div id="results-summary">
            </div>
            <div id="motivational-quote">
            </div>
            <div class="result-actions">
                <button id="reset-button" onclick="resetCalculator()">Start Over</button>
                <button onclick="showNewQuote()">New Quote</button>
            </div>
        </section>

        <section id="mental-health-support" class="step">
            <h2>Mental Health Support</h2>
            <div class="support-content">
                <p>It's important to recognize that excessive worry can sometimes be a sign of anxiety or other mental health conditions. If you're experiencing persistent worry, anxiety, or other mental health concerns, you're not alone, and help is available.</p>
                
                <div class="crisis-support">
                    <h3>Need to Talk to Someone?</h3>
                    <p>Select your country to find a confidential crisis helpline:</p>
                    <select id="crisis-country" name="crisis-country">
                        <option value="" disabled selected>-- Select Country --</option>
                    </select>
                    <div id="crisis-number" class="crisis-number"></div>
                </div>

                <div class="support-info">
                    <h3>Understanding Mental Health</h3>
                    <p>Mental health is just as important as physical health. If you're experiencing any of these symptoms, consider reaching out for support:</p>
                    <ul>
                        <li>Persistent worry or anxiety that interferes with daily life</li>
                        <li>Difficulty sleeping or concentrating</li>
                        <li>Changes in appetite or energy levels</li>
                        <li>Feelings of hopelessness or worthlessness</li>
                        <li>Thoughts of self-harm or suicide</li>
                    </ul>
                    <p>Remember: Seeking help is a sign of strength, not weakness.</p>
                </div>
            </div>
            <div class="navigation-buttons">
                <button onclick="hideMentalHealthSupport()" class="back-button">‚Üê Back to Previous Step</button>
                <button onclick="resetCalculator()" class="start-over-button">Start Over</button>
            </div>
        </section>
    </main>

    <footer>
        <p>Time is precious. Use it wisely.</p>
        <p style="font-size: 0.8em; margin-top: 0.5em;">Inspirational quotes provided by <a href="https://zenquotes.io/" target="_blank" style="color: #fff; text-decoration: underline;">ZenQuotes API</a>.</p>
    </footer>

    <script src="script.js" defer></script>
</body>
</html>