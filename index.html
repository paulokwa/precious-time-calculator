<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Precious Time (API Version)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>How Much Time Do You Truly Have?</h1>
            <!-- Keep the desktop help button for now, will hide on mobile via CSS -->
            <button id="help-button-desktop" class="help-button">Need Help?</button>
        </div>
        <!-- Hamburger icon for mobile -->
        <div class="hamburger-icon" id="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <!-- Mobile navigation menu -->
        <nav class="mobile-nav" id="mobile-nav">
            <ul>
                <li><button id="help-button-mobile" class="help-button">Need Help?</button></li>
                <!-- Add other mobile menu items here if needed -->
            </ul>
        </nav>
    </header>

    <main>
        <section id="step-intro" class="step active">
            <h2>Discover Your Precious Time</h2>
            <p>Have you ever stopped to think about the true value of your time? This calculator is designed to give you a unique perspective on the time you might have remaining and how something like unnecessary worry can significantly impact it.</p>
            <p>Based on average life expectancy data, we'll help you visualize your time in years, days, and hours, and show you the potential cost of spending that time worrying.</p>
            <p>It's not about predicting the future, but about bringing attention to the present and inspiring you to use your precious moments wisely.</p>
            <button onclick="nextStep('step-age')">Start Calculation</button>
        </section>

        <section id="step-age" class="step">
            <h2>Step 1: How old are you?</h2>
            <label for="age">Your current age:</label>
            <input type="number" id="age" name="age" min="1" max="120" required>
            <button onclick="nextStep('step-sex')">Next</button>
        </section>

        <section id="step-sex" class="step">
            <h2>Step 2: What is your biological sex?</h2>
            <p>(Needed for average life expectancy data)</p>
            <div class="radio-group">
                <label>
                    <input type="radio" id="sex-male" name="sex" value="SEX_MLE" required> Male
                </label>
                <label>
                    <input type="radio" id="sex-female" name="sex" value="SEX_FMLE" required> Female
                </label>
            </div>
            <button onclick="nextStep('step-country')">Next</button>
        </section>

        <section id="step-country" class="step">
            <h2>Step 3: Where do you live?</h2>
            <label for="country">Select your country:</label>
            <select id="country" name="country" required>
                <option value="" disabled selected>-- Select Country --</option>
            </select>
            <button onclick="nextStep('step-worry')">Next</button>
        </section>

        <section id="step-worry" class="step">
            <h2>Step 4: Daily Worry Time</h2>
            <label for="worry-hours">On average, how many hours per day do you spend worrying about things you can't control?</label>
            <input type="range" id="worry-hours" name="worry-hours" min="0" max="12" step="0.5" value="1">
            <span id="worry-output">1 hour</span>
            <button onclick="calculateTime()">Calculate My Time</button> </section>

        <section id="step-results" class="step">
            <h2>Your Time Breakdown</h2>
            <div id="results-loading" style="display: none;">Fetching data...</div>
            <div id="results-summary">
            </div>
            <div id="motivational-quote">
            </div>
            <div class="result-actions">
                <button id="reset-button" onclick="resetCalculator()">Start Over</button>
                <button onclick="showNewQuote()">New Quote</button>
            </div>
        </section>
    </main>

    <!-- Simple Help Modal Structure -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeHelpModal()">&times;</span>
            <h2>Need Help?</h2>
            <p>If you are struggling with worry or anxiety, please consider reaching out for professional help.</p>
            
            <div class="emergency-numbers">
                <div class="search-container">
                    <input type="text" id="country-search" placeholder="Search for your country..." onkeyup="filterCountries()">
                </div>
                
                <div class="regions-container">
                    <div class="region">
                        <h3>Americas</h3>
                        <div class="country-list" id="americas-list"></div>
                    </div>
                    <div class="region">
                        <h3>Europe</h3>
                        <div class="country-list" id="europe-list"></div>
                    </div>
                    <div class="region">
                        <h3>Asia & Pacific</h3>
                        <div class="country-list" id="asia-list"></div>
                    </div>
                    <div class="region">
                        <h3>Africa & Middle East</h3>
                        <div class="country-list" id="africa-list"></div>
                    </div>
                </div>
            </div>

            <p class="disclaimer">Remember, you don't have to go through this alone. These helplines are available 24/7 in most countries.</p>
        </div>
    </div>

    <footer>
        <p>Time is precious. Use it wisely.</p>
        <p style="font-size: 0.8em; margin-top: 0.5em;">Inspirational quotes provided by <a href="https://zenquotes.io/" target="_blank" style="color: #fff; text-decoration: underline;">ZenQuotes API</a>.</p>
    </footer>

    <script src="script.js" defer></script>
</body>
</html>